<script>

// Start video on heart button click
document.getElementById("startVideoBtn").onclick = function(){
  document.getElementById("bgVideo").play();
  this.style.display = "none";
};

const correctPassword="050325";
const sections=document.querySelectorAll(".section");
const slides=document.querySelectorAll(".slide");
const slideText=document.getElementById("slideText");
const music=document.getElementById("bgMusic");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
let current=0;

function show(id){
  sections.forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="flex";
}

function checkPassword(){
  if(document.getElementById("passwordInput").value===correctPassword){
    music.currentTime=0;
    music.play().catch(()=>{});
    startCountdown();
  }else{
    alert("Wrong password ❤️");
  }
}

/* COUNTDOWN */
function startCountdown(){
  show("countdownScreen");
  let count=5;
  const el=document.getElementById("countdown");
  el.textContent=count;

  const interval=setInterval(()=>{
    count--;
    el.textContent=count;
    if(count===0){
      clearInterval(interval);
      startSlideshow();
    }
  },1000);
}

/* SLIDESHOW */
function startSlideshow(){
  show("slideshow");
  current=0;
  slides.forEach(s=>s.classList.remove("active"));
  slides[current].classList.add("active");

  const texts=[
    "Our first memory ❤️",
    "Every smile with you means everything",
    "You are my safe place",
    "Through every moment",
    "Through every laugh",
    "Through every tear",
    "You stayed",
    "You loved",
    "You chose me",
    "And I will always choose you"
  ];

  slideText.textContent=texts[0];
  slideText.classList.add("active");

  const slideInterval=setInterval(()=>{
    slides[current].classList.remove("active");
    current++;

    if(current>=slides.length){
      clearInterval(slideInterval);
      setTimeout(showFinalScreen,1500);
      return;
    }

    slides[current].classList.add("active");
    slideText.textContent=texts[current] || "";
  },3000);
}

/* FINAL SCREEN */
function showFinalScreen(){
  show("finalScreen");

  const message=`From the day we became one,
my life changed forever.

You are my peace,
my happiness,
my future.

Will you continue this journey with me? ❤️`;

  document.getElementById("paragraph").textContent=message;

  yesBtn.style.display="inline-block";
  noBtn.style.display="inline-block";

  yesBtn.onclick=function(){
    show("yesPage");
  };

  noBtn.onclick=function(){
    noBtn.style.position="absolute";
    noBtn.style.top=Math.random()*80+"%";
    noBtn.style.left=Math.random()*80+"%";
  };
}

</script>
